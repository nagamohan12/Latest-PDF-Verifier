- source_from = params[:from] == 'projects' ? projects_path : @test_run.project
= link_to 'Back', source_from, class: 'pull-right btn btn-sm btn-primary'
%h4 Project : #{@test_run.project.name}
- if @test_run.run_at.present?
  %h5 Ran At: #{@test_run.run_at.to_datetime}
  = paginate @reports_page
#accordion.panel-group
  - i = 0
  - @reports.each do |k,v|
    - i = i + 1
    .panel.panel-default
      .panel-heading
        %h4.panel-title
          %a{"data-parent" => "#accordion", "data-toggle" => "collapse", :href => "#content_#{i}"}Pdf Text "#{k}"
      .panel-collapse.collapse{:id => "content_#{i}"}
        .panel-body
          %table.table.table-striped.table-hover
            %tr
              %th Xml Node
              - if params[:status] == "processed"
                %th Status
              - if ["processed", "failure"].include? (params[:status])
                %th Reason

            - v.each do |r|
              %tr
                %td= r.xml_node
                - if params[:status] == "processed"
                  - status_image = r.is_passed ? 'success.png' : 'failure.png'
                  - status_message = r.is_passed ? 'success' : 'failure'
                  %td= image_tag(status_image, size: "28x28", alt: status_message)
                - if ["processed", "failure"].include? (params[:status])
                  %td= r.reason